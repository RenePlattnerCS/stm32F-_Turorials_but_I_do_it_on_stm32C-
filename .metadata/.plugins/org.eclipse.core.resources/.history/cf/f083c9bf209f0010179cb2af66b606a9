#include <stdint.h>
#include <stdio.h>
#include "stm32C0xx.h"
#include "uart.h"
#include "timer.h"

#include "systick.h"

#include "exti.h"

#define PIN5		(1U<<5)
#define PIN13		(1U<<13)
#define LED_PIN		PIN5
#define BTN_PIN		PIN13



int main(void)
{

	RCC->IOPENR |= (1U << 0);             // Enable GPIOA
	GPIOA->MODER &= ~(3U << (5 * 2));     // PA5 output
	GPIOA->MODER |=  (1U << (5 * 2));

	pc13_exti_init();


	while(1)
	{
		printf("hey\n\r");
	}

}




void EXTI4_15_IRQHandler(void)
{
    if (EXTI->FPR1 & LINE13)
    {
        EXTI->FPR1 = LINE13;        // clear pending
        GPIOA->ODR ^= (1U << 5);    // toggle LED
    }
}

