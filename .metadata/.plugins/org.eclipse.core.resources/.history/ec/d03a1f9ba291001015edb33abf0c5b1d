#include "stm32C0xx.h"



#define GPIOAEN		(1U<<0)
#define GPIOCRN		(1U<<2)
#define PIN5		(1U<<5)
#define PIN13		(1U<<13)
#define LED_PIN		PIN5
#define BTN_PIN		PIN13



int main(void)
{
	RCC->IOPENR |= GPIOAEN;
	RCC->IOPENR |= GPIOCEN;

	//Set 13 as input pit
	GPIOC->MODER &=~(1U<<26);
	GPIOC->MODER &=~(1U<<27);

	GPIOA->MODER |= (1U << 10);
	GPIOA->MODER &= ~(1U << 11);



	while(1)
	{


		if(GPIOC->IDR & BTN_Pin)
		{
			GPIOA->BSRR = LED_PIN;
		}
		else
		{
			GPIOA->BSRR = (1U<<21);
		}



	}
}
